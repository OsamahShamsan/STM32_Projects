// === eeprom_emul.c ===
#include "eeprom_emul.h"
#include "eeprom.h" // from STM32Cube EEPROM emulation library
#include <string.h>

#define EEPROM_MENU_LINES 3
#define EEPROM_LINE_SIZE 32
static char eeprom_menu_buffer[EEPROM_MENU_LINES][EEPROM_LINE_SIZE];

void eeprom_emul_read_menu(char** lines) {
    for (uint16_t i = 0; i < EEPROM_MENU_LINES; i++) {
        EE_ReadVariable(i, (uint16_t*)&eeprom_menu_buffer[i]);
        lines[i] = eeprom_menu_buffer[i];
    }
}
