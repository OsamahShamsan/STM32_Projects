#ifndef MENU_H
#define MENU_H

#include <stdint.h>

#define MENU_TOTAL_LINES 5
#define MENU_LINE_SIZE   64

// Input values
#define MENU_KEY_ESC     27
#define MENU_KEY_ENTER   '\r'
#define MENU_KEY_BRACKET '['
#define MENU_KEY_ARROW_UP  'A'
#define MENU_KEY_ARROW_DOWN 'B'

// Escape state machine states
typedef enum {
    ESC_STATE_NONE = 0,
    ESC_STATE_ESC,
    ESC_STATE_BRACKET
} MenuEscState;

void Menu_Init(void);
void Menu_Display(void);
void Menu_HandleInput(uint8_t input);
void send_line(const char* text, int is_selected);

#endif // MENU_H
